<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RPG DREAM • Single-File Editor</title>
<style>
/* ===============================
   PHASE A — UI POLISH (CSS ONLY)
   Audited: No JS / No DOM changes
   =============================== */

:root {
  --bg:#0d1117;
  --panel:#161b22;
  --panel-soft:#1b2230;
  --panel-edge:#0b0f14;
  --text:#e6edf3;
  --muted:#9aa4af;

  --btn:#21262d;
  --btn-border:#30363d;
  --btn-hover:#2a313c;
  --btn-active:#2f81f7;

  --accent:#2f81f7;
  --accent-soft:#1f6feb;

  --grid:#30363d;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background-color: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu;
}

/* Header */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: linear-gradient(180deg, var(--panel), var(--panel-soft));
  border-bottom: 1px solid var(--panel-edge);
  font-weight: 600;
  letter-spacing: .02em;
}

/* Tabs */
.tabs {
  display: flex;
  justify-content: space-around;
  margin: 12px;
  gap: 8px;
}

button.tab {
  background: var(--btn);
  border: 1px solid var(--btn-border);
  color: var(--muted);
  padding: 10px 18px;
  border-radius: 10px;
  font-size: 15px;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}

button.tab:hover {
  background: var(--btn-hover);
  color: var(--text);
}

button.tab.active {
  background: var(--btn-active);
  color: #fff;
  border-color: var(--accent-soft);
}

/* Sections */
section {
  display: none;
  padding: 12px;
}

section.active {
  display: block;
}

/* Panels */
h3 {
  margin: 12px 0 6px;
  font-size: 14px;
  letter-spacing: .04em;
  color: #c9d1d9;
}

.biomes,
.palette {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* Buttons */
.biomes button,
.palette button {
  background: var(--btn);
  border: 1px solid var(--btn-border);
  color: var(--text);
  padding: 8px 14px;
  border-radius: 8px;
  transition: background .15s ease, border-color .15s ease;
}

.biomes button:hover,
.palette button:hover {
  background: var(--btn-hover);
}

.biomes button.active,
.palette button.active {
  background: var(--accent);
  border-color: var(--accent-soft);
  color: #fff;
}

/* Add buttons */
.add-btn {
  margin: 10px 0;
  background: linear-gradient(180deg, var(--accent), var(--accent-soft));
  border: none;
  color: white;
  padding: 10px 16px;
  border-radius: 10px;
  font-weight: 600;
  letter-spacing: .03em;
}

.add-btn:hover {
  filter: brightness(1.05);
}

/* Grid */
.grid {
  background: #0b0f14;
  border-radius: 12px;
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  grid-auto-rows: 32px;
  gap: 1px;
  margin-top: 12px;
  border: 1px solid var(--panel-edge);
}

.cell {
  background: #161b22;
  border: 1px solid var(--grid);
}

.cell.filled {
  background: var(--tile-color);
}

/* Footer */
footer {
  text-align: center;
  color: var(--muted);
  font-size: 13px;
  padding: 14px;
  border-top: 1px solid var(--panel-edge);
}
</style>
</head>
<body>
<header>
  <div>RPG DREAM</div>
  <div>offline • loaded</div>
</header>
<div class="tabs">
  <button class="tab active" data-tab="terrain">Terrain</button>
  <button class="tab" data-tab="collision">Collision</button>
  <button class="tab" data-tab="characters">Characters</button>
</div>

<section id="terrain" class="active">
  <h3>Biome</h3>
  <div class="biomes" id="biomes"></div>
  <h3>Tiles</h3>
  <div class="palette" id="palette"></div>
  <h3>Maps</h3>
  <button class="add-btn" id="addMap">+ Add Map</button>
  <div class="grid" id="terrainGrid"></div>
</section>

<section id="collision">
  <h3>Collision</h3>
  <div class="grid" id="collisionGrid"></div>
</section>

<section id="characters">
  <h3>Characters</h3>
  <button class="add-btn" id="addCharacter">+ Add Character</button>
  <div class="grid" id="characterGrid"></div>
</section>

<footer>RPG DREAM • single-file offline editor</footer>

<script>
const biomes = {
  plains: ['#4caf50', '#8b5a2b', '#777'],
  desert: ['#c2b280', '#a67b5b', '#8c7a3a'],
  tropical: ['#3cb371', '#2e8b57', '#20b2aa'],
  volcanic: ['#4b3621', '#8b0000', '#ff4500'],
  wetlands: ['#2f4f4f', '#3cb371', '#4682b4']
};

let currentBiome = 'plains';
let currentTile = biomes[currentBiome][0];

function renderBiomes() {
  const container = document.getElementById('biomes');
  container.innerHTML = '';
  Object.keys(biomes).forEach(b => {
    const btn = document.createElement('button');
    btn.textContent = b;
    if (b === currentBiome) btn.classList.add('active');
    btn.onclick = () => {
      currentBiome = b;
      currentTile = biomes[b][0];
      renderBiomes();
      renderPalette();
    };
    container.appendChild(btn);
  });
}

function renderPalette() {
  const container = document.getElementById('palette');
  container.innerHTML = '';
  biomes[currentBiome].forEach(color => {
    const btn = document.createElement('button');
    btn.style.backgroundColor = color;
    btn.onclick = () => {
      currentTile = color;
      renderPalette();
    };
    if (color === currentTile) btn.classList.add('active');
    container.appendChild(btn);
  });
}

function renderGrid(id) {
  const grid = document.getElementById(id);
  grid.innerHTML = '';
  for (let i = 0; i < 120; i++) {
    const cell = document.createElement('div');
    cell.className = 'cell';
    cell.onclick = () => {
      cell.classList.add('filled');
      cell.style.setProperty('--tile-color', currentTile);
    };
    grid.appendChild(cell);
  }
}

function bindTabs() {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.onclick = () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(tab.dataset.tab).classList.add('active');
    };
  });
}

document.getElementById('addMap').onclick = () => alert('Map added (stub)');
document.getElementById('addCharacter').onclick = () => alert('Character added (stub)');

renderBiomes();
renderPalette();
renderGrid('terrainGrid');
renderGrid('collisionGrid');
renderGrid('characterGrid');
bindTabs();
</script>
</body>
</html>
