
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RPG DREAM • Single-File Editor</title>
<style>
body {
  margin: 0;
  background-color: #0d1117;
  color: #e6edf3;
  font-family: system-ui, sans-serif;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 16px;
  background: #161b22;
  font-weight: 600;
}
.tabs {
  display: flex;
  justify-content: space-around;
  margin: 10px;
}
button.tab {
  background: #21262d;
  border: none;
  color: #c9d1d9;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 16px;
  margin: 0 4px;
}
button.tab.active {
  background: #2f81f7;
  color: white;
}
section {
  display: none;
  padding: 12px;
}
section.active {
  display: block;
}
.grid {
  background: #0d1117;
  border-radius: 10px;
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  grid-auto-rows: 32px;
  gap: 1px;
  margin-top: 12px;
}
.cell {
  background: #161b22;
  border: 1px solid #21262d;
}
.cell.filled {
  background: var(--tile-color);
}
.palette, .biomes {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.palette button, .biomes button {
  background: #21262d;
  border: none;
  color: #c9d1d9;
  padding: 8px 16px;
  border-radius: 8px;
}
.palette button.active, .biomes button.active {
  background: #2f81f7;
  color: white;
}
.add-btn {
  margin: 8px 0;
  background: #2f81f7;
  border: none;
  color: white;
  padding: 8px 16px;
  border-radius: 8px;
}
footer {
  text-align: center;
  color: #8b949e;
  font-size: 14px;
  padding: 12px;
}
</style>
</head>
<body>
<header>
  <div>RPG DREAM</div>
  <div>offline • loaded</div>
</header>
<div class="tabs">
  <button class="tab active" data-tab="terrain">Terrain</button>
  <button class="tab" data-tab="collision">Collision</button>
  <button class="tab" data-tab="characters">Characters</button>
</div>

<section id="terrain" class="active">
  <h3>Biome</h3>
  <div class="biomes" id="biomes"></div>
  <h3>Tiles</h3>
  <div class="palette" id="palette"></div>
  <h3>Maps</h3>
  <button class="add-btn" id="addMap">+ Add Map</button>
  <div class="grid" id="terrainGrid"></div>
</section>

<section id="collision">
  <h3>Collision</h3>
  <div class="grid" id="collisionGrid"></div>
</section>

<section id="characters">
  <h3>Characters</h3>
  <button class="add-btn" id="addCharacter">+ Add Character</button>
  <div class="grid" id="characterGrid"></div>
</section>

<footer>RPG DREAM • single-file offline editor</footer>

<script>
const biomes = {
  plains: ['#4caf50', '#8b5a2b', '#777'],
  desert: ['#c2b280', '#a67b5b', '#8c7a3a'],
  tropical: ['#3cb371', '#2e8b57', '#20b2aa'],
  volcanic: ['#4b3621', '#8b0000', '#ff4500'],
  wetlands: ['#2f4f4f', '#3cb371', '#4682b4']
};

let currentBiome = 'plains';
let currentTile = biomes[currentBiome][0];

function renderBiomes() {
  const container = document.getElementById('biomes');
  container.innerHTML = '';
  Object.keys(biomes).forEach(b => {
    const btn = document.createElement('button');
    btn.textContent = b;
    if (b === currentBiome) btn.classList.add('active');
    btn.onclick = () => {
      currentBiome = b;
      currentTile = biomes[b][0];
      renderBiomes();
      renderPalette();
    };
    container.appendChild(btn);
  });
}

function renderPalette() {
  const container = document.getElementById('palette');
  container.innerHTML = '';
  biomes[currentBiome].forEach(color => {
    const btn = document.createElement('button');
    btn.style.backgroundColor = color;
    btn.onclick = () => {
      currentTile = color;
      renderPalette();
    };
    if (color === currentTile) btn.classList.add('active');
    container.appendChild(btn);
  });
}

function renderGrid(id) {
  const grid = document.getElementById(id);
  grid.innerHTML = '';
  for (let i = 0; i < 120; i++) {
    const cell = document.createElement('div');
    cell.className = 'cell';
    cell.onclick = () => {
      cell.classList.add('filled');
      cell.style.setProperty('--tile-color', currentTile);
    };
    grid.appendChild(cell);
  }
}

function bindTabs() {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.onclick = () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(tab.dataset.tab).classList.add('active');
    };
  });
}

document.getElementById('addMap').onclick = () => alert('Map added (stub)');
document.getElementById('addCharacter').onclick = () => alert('Character added (stub)');

renderBiomes();
renderPalette();
renderGrid('terrainGrid');
renderGrid('collisionGrid');
renderGrid('characterGrid');
bindTabs();
</script>
</body>
</html>
