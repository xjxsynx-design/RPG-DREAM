<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>RPG DREAM 路 Phase C.3</title>

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background: #0b0f1a;
  color: #e6ecff;
}
header {
  display: flex;
  justify-content: space-between;
  padding: 14px 16px;
  border-bottom: 1px solid #223154;
}
.tabs {
  display: flex;
  gap: 8px;
  padding: 12px;
}
.tab {
  padding: 8px 14px;
  border-radius: 12px;
  background: #121a2a;
  border: 1px solid #223154;
  color: #c6d4ff;
}
.tab.active {
  background: #2f7cff;
  color: #fff;
}
.controls {
  padding: 0 12px 10px;
}
button {
  padding: 8px 14px;
  border-radius: 12px;
  background: #2f7cff;
  border: none;
  color: #fff;
}
.grid {
  display: grid;
  grid-template-columns: repeat(16, 1fr);
  gap: 2px;
  padding: 12px;
}
.cell {
  aspect-ratio: 1/1;
  background: #0e1525;
  border: 1px solid #223154;
  position: relative;
}
.cell.character::after {
  content: "";
  position: absolute;
  inset: 6px;
  background: #9b59b6;
  border-radius: 6px;
}
footer {
  text-align: center;
  padding: 12px;
  border-top: 1px solid #223154;
  color: #9aa4af;
}
</style>
</head>

<body>

<header>
  <div>RPG DREAM 路 Phase C.3</div>
  <div>Characters: Unlimited</div>
</header>

<div class="tabs">
  <button class="tab active" data-mode="characters">Characters</button>
</div>

<div class="controls">
  <button id="addChar">+ Add Character</button>
  <span id="status" style="margin-left:10px;opacity:.8">Not armed</span>
</div>

<div class="grid" id="grid"></div>

<footer>RPG DREAM 路 Phase C.3 路 Unlimited Character Placement</footer>

<script>
/* ===== ENGINE STATE ===== */
let placementArmed = false;
const characters = new Set();

/* ===== GRID BUILD ===== */
const grid = document.getElementById("grid");
const SIZE = 16 * 16;

for (let i = 0; i < SIZE; i++) {
  const cell = document.createElement("div");
  cell.className = "cell";
  cell.dataset.i = i;
  cell.onclick = () => handleCell(i, cell);
  grid.appendChild(cell);
}

/* ===== UI ===== */
const addBtn = document.getElementById("addChar");
const status = document.getElementById("status");

addBtn.onclick = () => {
  placementArmed = !placementArmed;
  status.textContent = placementArmed
    ? "Tap grid to place characters"
    : "Not armed";
};

/* ===== CHARACTER PLACEMENT ===== */
function handleCell(i, cell) {
  if (!placementArmed) return;

  if (characters.has(i)) {
    characters.delete(i);
    cell.classList.remove("character");
  } else {
    characters.add(i);
    cell.classList.add("character");
  }
}
</script>

</body>
</html>
