*{box-sizing:border-box}
body{margin:0;background:#0f1115;color:#e8ebf0;font-family:system-ui}
#topbar{position:sticky;top:0;z-index:10;display:flex;gap:8px;padding:10px;background:#0f1115}
.mode{padding:8px 12px;border-radius:10px;border:none;background:#222;color:#fff;font-weight:800}
.mode.active{outline:2px solid #4da6ff}
#page{display:grid;grid-template-columns:160px 1fr;gap:10px;padding:10px}
.panel{background:#161a22;border-radius:14px;padding:10px;min-height:0}
.scroll{overflow-y:auto;max-height:calc(100vh - 70px)}
.hidden{display:none}
#viewportWrap{position:relative;height:360px;background:#0b0e14;border-radius:12px;overflow:hidden;touch-action:none}
#canvas{position:absolute;inset:0}
button{margin:6px 0;padding:8px 10px;border-radius:10px;border:none;background:#4da6ff;font-weight:900}
